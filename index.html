<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<title>FitnessBuddy</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.0/journal/bootstrap.min.css">
        <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.15/angular.min.js"></script>
        <script src='https://cdn.firebase.com/js/client/2.2.2/firebase.js'></script>
        <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
        <script src="https://code.jquery.com/ui/1.11.3/jquery-ui.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ui-timepicker-addon/1.4.5/jquery-ui-timepicker-addon.min.js"></script>
	</head>
	<script type="text/javascript">
        var app=angular.module('fitnessBuddy',['firebase']);
        app.controller('EventListCtrl',["$scope", "$firebaseArray",
            function($scope,$firebaseArray){
            var FIREBASE_URL= 'https://sweltering-heat-7043.firebaseio.com/event2'
            var eventRef = new Firebase(FIREBASE_URL);
            $scope.events=$firebaseArray(eventRef);
            $scope.newEvent= function(){
                var timestamp=new Date().valueOf();
                //var itemRef=new Firebase(FIREBASE_URL+timestamp);
                //itemRef.set({s
                //});
                $scope.events.$add({
                    name:$scope.eventname,
                    text:$scope.eventdescs
                   // date:$scope.eventdate
                });
                $scope.eventname='';
                $scope.eventtext='';
                $scope.eventdate='';
            }
            $(function() {
                var nowDate = new Date()
                $( "#eventdate" ).datetimepicker({
                    controlType:'select',
                    format: "HH:mm",
                    // stepMinute:30,
                    minDate: nowDate
                });
            });     
        }]);
    </script>
    <body ng-controller="EventListCtrl" class="container" ng-app='fitnessBuddy'>
        <div class="container">
            <input type='text' ng-model='eventname' placeholder='New Event name' />
            <input type='text' ng-model='eventdesc' placeholder='New Event description' />
            <input type='text' ng-model='eventdate' id='eventdate' placeholder='Select date'>
            <input type='submit' value="submit" ng-click="newEvent()"/>  
            <div class="page-header text-center">
                <h1>Events</h1>
            </div>
            <div ng-repeat="event list" class="list-group-item row">
                <div class="col-md-6">
                    <span>{{events.name}}</span>
                    <small class="text-warning">[{{eventss.text}}]</small>
                    <!--<span>{{event.date}}</span>-->
                </div>
            </div>
        </div>
</body>
</html>